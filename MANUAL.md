# DocPub 사용자 매뉴얼

## 1. 소개

DocPub은 데스크톱 퍼블리싱(DTP)을 위해 설계된 오픈 소스 협업 XML 편집기입니다. 실시간 협업 기능, 버전 기록 및 Google Gemini 기반의 통합 AI 어시스턴트를 통해 풍부한 텍스트 편집 경험을 제공합니다.

## 2. 시작하기

DocPub에 처음 접속하면 새 문서를 생성하거나 기존 문서를 여는 옵션이 제공될 것입니다.

### 2.1 새 문서 생성

새 문서를 생성하려면:

1. 헤더에서 "새 문서" 버튼(더하기 기호 또는 더하기가 있는 문서 아이콘처럼 생겼습니다)을 클릭하거나, `Ctrl+O`를 눌러 문서 목록을 연 다음 "새 문서"를 클릭합니다.
2. 새 문서의 제목을 입력하라는 팝업이 나타납니다.
3. 원하는 제목을 입력하고 확인합니다. 비어 있는 새 문서가 편집을 위해 열립니다.

### 2.2 기존 문서 열기

기존 문서를 열려면:

1. 헤더에서 "문서 열기" 버튼(열린 폴더처럼 생겼습니다)을 클릭하거나, `Ctrl+O`를 누릅니다.
2. 사용 가능한 모든 문서를 보여주는 "문서 목록" 팝업이 나타납니다.
3. 목록에서 열고자 하는 문서를 선택합니다.
4. "문서 로드"를 클릭하거나 문서 이름을 두 번 클릭합니다.

## 3. 문서 편집

DocPub은 Quill 기반의 리치 텍스트 편집 기능을 제공하며, 포괄적인 서식 도구 세트를 제공합니다.

### 3.1 기본 서식

굵게, 기울임꼴, 밑줄, 목록 등과 같은 표준 서식 옵션은 편집기 도구 모음(여기서는 명시적으로 자세히 설명되어 있지 않지만, 리치 텍스트 편집기에서 예상되는 기능입니다)을 통해 사용할 수 있습니다.

### 3.2 제목 (헤딩)

다양한 헤딩 레벨을 사용하여 문서의 구조를 잡을 수 있습니다.

* **헤딩 1 적용:** `Ctrl+1` 누르기
* **헤딩 2 적용:** `Ctrl+2` 누르기
* **헤딩 3 적용:** `Ctrl+3` 누르기
* **헤딩 4 적용:** `Ctrl+4` 누르기
* **서식 제거:** `Ctrl+0` 누르기

### 3.3 목차 (TOC)

DocPub은 문서의 헤딩을 기반으로 목차를 자동으로 생성합니다.

1. 헤더에서 "목차" 버튼(목록 아이콘처럼 생겼습니다)을 클릭합니다.
2. 대화형 목차를 보여주는 패널이 나타납니다. 목차에서 헤딩을 클릭하면 문서의 해당 섹션으로 이동합니다.

## 4. 문서 관리

### 4.1 문서 저장

* 문서를 수동으로 저장하려면 헤더에서 "문서 저장" 버튼(플로피 디스크 아이콘처럼 생겼습니다)을 클릭하거나, `Ctrl+S`를 누릅니다.
* 저장 작업이 성공했음을 확인하는 저장 메시지가 잠시 나타납니다.

### 4.2 문서 제목

* 문서 제목은 편집기 상단에 표시됩니다.
* 제목을 클릭하여 편집합니다. 새 제목을 입력하고 `Enter`를 누르거나 제목 필드 밖을 클릭하여 변경 사항을 저장합니다. 제목을 비워두면 "DocPub"으로 되돌아갑니다.

### 4.3 문서 검색

문서 내에서 콘텐츠를 검색하려면:

1. 헤더에서 "문서 검색" 버튼(돋보기처럼 생겼습니다)을 클릭합니다.
2. 검색 팝업이 나타납니다. 일치하는 문서를 찾기 위해 검색어를 입력합니다.

## 5. 협업

DocPub은 Yjs 기반의 실시간 협업 편집 기능을 염두에 두고 구축되었습니다. 여러 사용자가 동일한 문서를 동시에 편집할 수 있으며, 변경 사항은 모든 공동 작업자에게 실시간으로 반영됩니다.

## 6. 버전 기록

DocPub은 문서 변경 사항을 추적하여 이전 버전을 보고 복원할 수 있도록 합니다.

### 6.1 버전 기록 보기

1. 헤더에서 "버전 기록" 버튼(화살표가 있는 시계 아이콘처럼 생겼습니다)을 클릭합니다.
2. 타임스탬프와 함께 저장된 버전 목록을 표시하는 "버전 기록" 팝업이 나타납니다.
3. 각 버전에 대해 다음을 수행할 수 있습니다.
   * **버전 복원:** "복원" 버튼을 클릭하여 현재 문서를 선택한 이전 상태로 되돌립니다.
   * **버전 삭제:** "삭제" 버튼을 클릭하여 해당 버전의 문서를 삭제합니다.

## 7. AI 어시스턴트 (Gemini)

DocPub은 Google Gemini AI와 통합되어 콘텐츠 생성, 요약 및 기타 텍스트 기반 작업에 도움을 줍니다.

### 7.1 Gemini 어시스턴트 사용

1. 헤더에서 "Gemini에게 질문하기" 버튼(✨ 아이콘)을 클릭하거나, `Ctrl+G`를 누릅니다.
2. "Gemini 팝업"이 나타납니다.
3. 다음을 보낼 수 있습니다.
    * **선택된 텍스트:** 편집기에서 텍스트를 선택한 경우 이 옵션을 사용할 수 있으며, 이를 선택하면 선택된 텍스트가 프롬프트와 함께 전송됩니다.
    * **전체 문서:** 문서의 전체 내용이 프롬프트와 함께 전송됩니다.
4. 프롬프트를 입력합니다 (예: "이 텍스트를 요약해 줘", "이 단락을 다시 작성해 줘", "여기서부터 계속 작성해 줘").
5. **삽입 방법**을 선택합니다:
    * **삽입:** Gemini의 응답이 현재 커서 위치(또는 선택된 텍스트가 있는 경우 그 뒤)에 삽입됩니다.
    * **교체:** 텍스트가 선택된 경우 Gemini의 응답이 선택된 텍스트를 교체합니다. 텍스트가 선택되지 않은 경우 "삽입"처럼 작동합니다.
    * **추가:** Gemini의 응답이 문서의 맨 끝에 추가됩니다.
6. "보내기" (또는 해당 버튼)를 클릭합니다. Gemini의 응답이 문서에 직접 스트리밍됩니다.

## 8. 문서 내보내기

### 8.1 마크다운으로 다운로드

* 문서 내용을 마크다운(`.md`) 파일로 다운로드하려면:
    1. 헤더에서 "설정 메뉴" (톱니바퀴 ⚙️ 아이콘처럼 생겼습니다)를 엽니다.
    2. "마크다운 다운로드" 옵션을 클릭합니다.
    3. 브라우저가 현재 문서 제목으로 마크다운 파일을 다운로드합니다.

## 9. 설정 메뉴

"설정 메뉴"(톱니바퀴 ⚙️ 아이콘을 통해 접근 가능)는 다음 옵션을 제공합니다:

* **사용자 이름:** 공동 편집을 위한 표시 이름을 변경합니다.
* **테마:** 편집기를 위한 다른 시각적 테마(예: 밝은 테마, 어두운 테마)를 선택합니다.
* **마크다운 다운로드:** 문서 내용을 마크다운(`.md`) 파일로 다운로드합니다.

## 10. 키보드 단축키

* `Ctrl+S`: 문서 저장
* `Ctrl+O`: 문서 목록 열기
* `Ctrl+G`: Gemini에게 질문하기
* `Ctrl+1`: 헤딩 1 적용
* `Ctrl+2`: 헤딩 2 적용
* `Ctrl+3`: 헤딩 3 적용
* `Ctrl+4`: 헤딩 4 적용
* `Ctrl+0`: 모든 서식 제거

## 11. 고급 설정 (포트 및 호스트 이름)

명령줄 인수를 사용하여 DocPub 서버가 실행되는 포트 및 호스트 이름을 사용자 지정할 수 있다. 이는 개발 또는 특정 네트워크 환경에 배포할 때 특히 유용하다.

`npm run dev` 또는 `npm run start`를 사용할 때 `node server.js` 스크립트에 사용자 지정 인수를 전달하려면 `npm` 스크립트 이름 뒤에 `--` 구분 기호를 사용해야 한다.

### 11.1 포트 지정

* **기본 포트:** 포트가 지정되지 않으면 서버는 `3000`번 포트에서 실행된다.
* **사용자 지정 포트:** 다른 포트(예: `7788`)에서 서버를 실행하려면 `--port` 인수를 사용한다.

```bash
npm run dev -- --port 7788
```

### 11.2 호스트 이름 지정 (원격 액세스용)

* **기본 호스트 이름:** 기본적으로 서버는 `localhost`에서 수신을 대기한다.
* **원격 액세스:** 네트워크의 다른 장치에서 서버에 액세스할 수 있도록 하려면 `0.0.0.0`(모든 네트워크 인터페이스에서 수신 대기)에 바인딩해야 한다. 이때 `--hostname` 인수를 사용한다.

```bash
npm run dev -- --hostname 0.0.0.0
```

이렇게 하면 동일한 로컬 네트워크의 장치가 IP 주소(예: `http://<your_ip_address>:3000`)를 사용하여 서버에 연결할 수 있다.

### 11.3 조합된 예시

두 인수를 모두 조합할 수 있다.

```bash
npm run dev -- --hostname 0.0.0.0 --port 7788
```

이렇게 하면 서버가 `7788`번 포트에서 시작되며 원격 머신에서 액세스할 수 있다.
